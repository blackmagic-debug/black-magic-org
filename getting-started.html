<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="_static/favicon/icon.svg">
    <link rel="icon" sizes="16x16" type="image/png" href="_static/favicon/favicon-16x16.png">
    <link rel="icon" sizes="32x32" type="image/png" href="_static/favicon/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="57x57" type="image/png" href="_static/favicon/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" type="image/png" href="_static/favicon/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" type="image/png" href="_static/favicon/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" type="image/png" href="_static/favicon/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="96x96" type="image/png" href="_static/favicon/apple-touch-icon-96x96.png">
    <link rel="apple-touch-icon" sizes="114x114" type="image/png" href="_static/favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" type="image/png" href="_static/favicon/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" type="image/png" href="_static/favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" type="image/png" href="_static/favicon/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" type="image/png" href="_static/favicon/apple-touch-icon-180x180.png">
    <link rel="android-icon" sizes="192x192" type="image/png" href="_static/favicon/android-icon-192x192.png"><meta property="og:title" content="Getting Started" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://black-magic.org/getting-started.html" />
<meta property="og:site_name" content="Black Magic Debug" />
<meta property="og:description" content="Get a Black Magic Probe: If you don’t have one already, you’ll need to get a Black Magic Probe. Connecting to your computer: Connect the Black Magic Probe to your computer’s USB port. When connecte..." />
<meta property="og:image" content="https://black-magic.org/_static/blackmagic-logo.png" />
<meta property="og:image:alt" content="Black Magic Debug" />
<meta name="description" content="Get a Black Magic Probe: If you don’t have one already, you’ll need to get a Black Magic Probe. Connecting to your computer: Connect the Black Magic Probe to your computer’s USB port. When connecte..." />

    <title>Getting Started &#8212; Black Magic Debug  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=039e1c02" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="_static/asciinema-player_2.6.1.css" />
    <link rel="stylesheet" type="text/css" href="_static/asciinema-custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/platformpicker.css" />
    <script src="_static/documentation_options.js?v=7f41d439"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/asciinema-player_2.6.1.js"></script>
    <script src="_static/platformpicker.js"></script>
    <link rel="canonical" href="https://black-magic.org/getting-started.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Firmware Upgrade" href="upgrade.html" />
    <link rel="prev" title="Supported Hardware" href="hardware.html" />

   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />


<link
  rel="alternate"
  type="application/atom+xml"
  href="blog/atom.xml"
  title="Blog"
/>



  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
<section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h1>
<section id="get-a-black-magic-probe">
<h2>Get a Black Magic Probe<a class="headerlink" href="#get-a-black-magic-probe" title="Link to this heading">¶</a></h2>
<p>If you don’t have one already, you’ll need to <a class="reference internal" href="index.html#getting-hardware"><span class="std std-ref">get a Black Magic Probe</span></a>.</p>
</section>
<section id="connecting-to-your-computer">
<h2>Connecting to your computer<a class="headerlink" href="#connecting-to-your-computer" title="Link to this heading">¶</a></h2>
<p>Connect the Black Magic Probe to your computer’s USB port.  When connected via USB, the Black Magic Probe will enumerate as a CDC-ACM device which the OS should present as a tty device or serial port.</p>
<p>On Linux you can check the kernel log to find the device that was allocated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@host ~ $ dmesg
usb 1-1.1: new full-speed USB device number 58 using ehci-pci
usb 1-1.1: New USB device found, idVendor=1d50, idProduct=6018
usb 1-1.1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
usb 1-1.1: Product: Black Magic Probe
usb 1-1.1: Manufacturer: Black Sphere Technologies
usb 1-1.1: SerialNumber: DDE6C7C4
cdc_acm 1-1.1:1.0: This device cannot do calls on its own. It is not a modem.
cdc_acm 1-1.1:1.0: ttyACM0: USB ACM device
cdc_acm 1-1.1:1.2: This device cannot do calls on its own. It is not a modem.
cdc_acm 1-1.1:1.2: ttyACM1: USB ACM device
</pre></div>
</div>
<p>The first interface provides the GDB server, and the second provides a USB to UART adapter.</p>
<p>On Windows, when you first connect, the Black Magic Probe should be detected as two COM ports. The first COM port is the GDB extended remote server and the second one is USB to Serial adapter on the back of the board. To find the allocated ports, check the Device Manager:</p>
<p><img alt="Device Manager" src="_images/device_manager.png" /></p>
<p><strong>Note:</strong> For older Windows versions (Windows 7 and older), you will be prompted to install a driver.  You can download the driver <a class="reference external" href="https://github.com/blackmagic-debug/blackmagic/tree/master/driver">here</a>.</p>
<p><strong>Note:</strong> If you are on Windows 10 and want to upgrade the firmware to the probe itself, you can install the <a class="reference external" href="https://zadig.akeo.ie/">libusbK</a> driver. This will give you access to the DFU interface of the Black Magic Probe and allow you to use dfu-util to upgrade the Black Magic Probe firmware. (You do not need to install this driver if you only plan to use the Black Magic Probe and do not need/want to upgrade the firmware.) Also, Windows 10 displays the BMP probe ports using the generic title, “USB Serial Device”, as seen below:</p>
<p><img alt="Device Manager Windows 10" src="_images/device_manager_w10.png" /></p>
</section>
<section id="connecting-to-the-software">
<h2>Connecting to the software<a class="headerlink" href="#connecting-to-the-software" title="Link to this heading">¶</a></h2>
<p>To use the Black Magic Probe, you will need an ARM cross toolchain for developing and debugging embedded ARM Cortex applications on your computer.  The <a class="reference external" href="https://developer.arm.com/downloads/-/gnu-rm">gcc-arm-embedded</a> toolchain is recommended.  The toolchain will include the GNU Debugger, GDB, for debugging ARM applications.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>user@host<span class="w"> </span>~<span class="w"> </span>$<span class="w"> </span>arm-none-eabi-gdb
GNU<span class="w"> </span>gdb<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>Tools<span class="w"> </span><span class="k">for</span><span class="w"> </span>ARM<span class="w"> </span>Embedded<span class="w"> </span>Processors<span class="o">)</span><span class="w"> </span><span class="m">7</span>.6.0.20140228-cvs
Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2013</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
License<span class="w"> </span>GPLv3+:<span class="w"> </span>GNU<span class="w"> </span>GPL<span class="w"> </span>version<span class="w"> </span><span class="m">3</span><span class="w"> </span>or<span class="w"> </span>later<span class="w"> </span>&lt;http://gnu.org/licenses/gpl.html&gt;
This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software:<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>free<span class="w"> </span>to<span class="w"> </span>change<span class="w"> </span>and<span class="w"> </span>redistribute<span class="w"> </span>it.
There<span class="w"> </span>is<span class="w"> </span>NO<span class="w"> </span>WARRANTY,<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>extent<span class="w"> </span>permitted<span class="w"> </span>by<span class="w"> </span>law.<span class="w">  </span>Type<span class="w"> </span><span class="s2">&quot;show copying&quot;</span>
and<span class="w"> </span><span class="s2">&quot;show warranty&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>details.
This<span class="w"> </span>GDB<span class="w"> </span>was<span class="w"> </span>configured<span class="w"> </span>as<span class="w"> </span><span class="s2">&quot;--host=i686-linux-gnu --target=arm-none-eabi&quot;</span>.
For<span class="w"> </span>bug<span class="w"> </span>reporting<span class="w"> </span>instructions,<span class="w"> </span>please<span class="w"> </span>see:
&lt;http://www.gnu.org/software/gdb/bugs/&gt;.
<span class="o">(</span>gdb<span class="o">)</span>
</pre></div>
</div>
<p>The GDB remote debugging protocol is implemented over the Black Magic Probe’s CDC-ACM interface.  To connect your ARM GDB to the target device use the following commands:</p>
<div class="highlight-gdb notranslate"><div class="highlight"><pre><span></span>(gdb) target extended-remote /dev/ttyACM0
Remote debugging using /dev/ttyACM0
(gdb) monitor jtag_scan
Target voltage: 3.4V
Device  IR Len  IDCODE      Description
0       4       0x4BA00477  ARM Limited: ADIv5 JTAG-DP port.
1       5       0x06413041  ST Microelectronics: STM32F4xx.

Available Targets:
No. Att Driver
 1      STM32F4xx

(gdb) attach 1
Attaching to Remote target
0x080071b2 in ?? ()
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">monitor</span> <span class="pre">swdp_scan</span></code> may be used to use the Serial-Wire Debug Protocol instead of JTAG to connect to the target.</p>
<p>Once attached, all the standard GDB commands may be used to start and control
the execution of the embedded application. <a class="reference internal" href="usage/gdb-commands.html"><span class="std std-doc">GDB Commands</span></a> provides a quick introduction.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On macOS use the <code class="docutils literal notranslate"><span class="pre">/dev/cu.usbmodem&lt;somenumber&gt;</span></code>. Don’t use the tty version of this device as this one will freeze gdb when it tries to open it.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, VCC is not enabled on either UART or JTAG/SWD, to prevent conflicts between multiple power sources. To enable the probe as a power source, you must use the <code class="docutils literal notranslate"><span class="pre">monitor</span> <span class="pre">tpwr</span> <span class="pre">enable</span></code> gdb command.</p>
</div>
<p>On Windows, use the the COM port instead of <code class="docutils literal notranslate"><span class="pre">/dev/ttyACM0</span></code>.  For ports &gt;= COM10, add the prefix <code class="docutils literal notranslate"><span class="pre">\\.\</span></code>, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">target</span> <span class="n">extended</span><span class="o">-</span><span class="n">remote</span> <span class="n">COM3</span>
<span class="n">target</span> <span class="n">extended</span><span class="o">-</span><span class="n">remote</span> \\<span class="o">.</span>\<span class="n">COM10</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is safe to always use the <code class="docutils literal notranslate"><span class="pre">\\.\</span></code> prefix even for ports &lt; COM10. So when you are writing scripts you can just always prefix the COM port number.</p>
</div>
</section>
<section id="video-tutorial">
<h2>Video Tutorial<a class="headerlink" href="#video-tutorial" title="Link to this heading">¶</a></h2>
<p>Esden created a video walk-through of using Black Magic Probe with the 1Bitsy microcontroller board on Linux.</p>
<div class="video_wrapper" style="">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/ANM0fdAqDow" style="border: 0; height: 345px; width: 560px">
</iframe></div><p>If you have additional tutorial resources for the use of Black Magic Probe let us know so we can include them here.</p>
</section>
<section id="getting-started-with-open-source-cortex-m-development">
<h2>Getting started with open-source Cortex-M development<a class="headerlink" href="#getting-started-with-open-source-cortex-m-development" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>See <a class="reference external" href="https://github.com/gsmcmullin/embedded-demo/raw/master/slides.pdf">this presentation</a>, porting a basic Unix program to an embedded Cortex-M3 using <a class="reference external" href="http://libopencm3.org/">libopencm3</a>.</p></li>
<li><p>The <a class="reference external" href="https://launchpadlibrarian.net/268329726/readme.txt">gcc-arm-embedded readme</a> is also worth a read.</p></li>
</ul>
</section>
</section>

<div class="section ablog__blog_comments">
  
  
</div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/blackmagic-logo.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">The Plug&Play MCU Debugger</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=blackmagic-debug&repo=blackmagic&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Intro</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Firmware Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported-targets.html">Supported Targets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Knowledgebase</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="knowledge/faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledge/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledge/pinouts.html">Pinout Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledge/links.html">Links</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage/gdb-commands.html">GDB Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/gdb-automation.html">GDB Flash Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/semihosting.html">Semihosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/traceswo.html">SWD - TRACESWO support</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/swo.html">Serial Wire Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/rtt.html">Using RTT</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/platformio.html">PlatformIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Target Specific Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="target-usage/stm32.html">STM32 Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="target-usage/sam3x-4x-x7x.html">SAM3x-4x-x7x</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hacking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hacking/contrib.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking/hacking.html">Firmware Hacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking/target-drivers.html">Adding Target Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking/target-cortex-m.html">Cortex-M Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking/target-cortex-a.html">Cortex A Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking/target-mm32.html">MindMotion MM32 Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking/target-clock-generation.html">Target Clock Generation</a></li>
</ul>


<div class="ablog-sidebar-item ablog__recentposts">
<h3>
  <a href="blog.html">Recent Posts</a>
</h3>
<ul>
  
  
  <li>
    <a href="blog/2023-09-17-release-candidate-v1_10_0-rc0.html">
      17 September - Release Candidate V1.10.0-rc0
    </a>
  </li>
  
  <li>
    <a href="blog/2023-09-16-release-v1_9_2.html">
      16 September - Stable Release V1.9.2
    </a>
  </li>
  
  <li>
    <a href="blog/2023-09-16-release-v1_8_3.html">
      16 September - Stable Release V1.8.3
    </a>
  </li>
  
  <li>
    <a href="blog/2023-04-28-release-v1_9_1.html">
      28 April - Stable Release V1.9.1
    </a>
  </li>
  
  <li>
    <a href="blog/2023-01-27-release-v1_9_0.html">
      27 January - Stable Release V1.9.0
    </a>
  </li>
  
</ul>
</div>

<div class="ablog-sidebar-item ablog__archive">
<h3>
  <a href="blog/archive.html">Archives</a>
</h3>
<ul>
  
  
  <li>
    <a href="blog/2023.html">2023 (5)</a>
  </li>
  
  
  
  <li>
    <a href="blog/2022.html">2022 (7)</a>
  </li>
  
  
</ul>
</div>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="hardware.html" title="previous chapter">Supported Hardware</a></li>
      <li>Next: <a href="upgrade.html" title="next chapter">Firmware Upgrade</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022-2023, Piotr Esden-Tempski <piotr@esden.net>; 2022-2023, Rachel Mant <git@dragonmux.network>.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>