<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="../../_static/favicon/icon.svg">
    <link rel="icon" sizes="16x16" type="image/png" href="../../_static/favicon/favicon-16x16.png">
    <link rel="icon" sizes="32x32" type="image/png" href="../../_static/favicon/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="57x57" type="image/png" href="../../_static/favicon/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" type="image/png" href="../../_static/favicon/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" type="image/png" href="../../_static/favicon/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" type="image/png" href="../../_static/favicon/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="96x96" type="image/png" href="../../_static/favicon/apple-touch-icon-96x96.png">
    <link rel="apple-touch-icon" sizes="114x114" type="image/png" href="../../_static/favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" type="image/png" href="../../_static/favicon/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" type="image/png" href="../../_static/favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" type="image/png" href="../../_static/favicon/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" type="image/png" href="../../_static/favicon/apple-touch-icon-180x180.png">
    <link rel="android-icon" sizes="192x192" type="image/png" href="../../_static/favicon/android-icon-192x192.png"><meta property="og:title" content="Compiling on Windows" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://black-magic.org/v1.x/knowledge/compiling-windows.html" />
<meta property="og:site_name" content="Black Magic Debug" />
<meta property="og:description" content="This guide covers the following: Building the firmware on a Windows machine, Building BMDA on a Windows machine. Note: The BMDA guide defines the supported (but not only) way to build BMDA for Wind..." />
<meta property="og:image" content="https://black-magic.org/_static/blackmagic-logo.png" />
<meta property="og:image:alt" content="Black Magic Debug" />
<meta name="description" content="This guide covers the following: Building the firmware on a Windows machine, Building BMDA on a Windows machine. Note: The BMDA guide defines the supported (but not only) way to build BMDA for Wind..." />
<link rel="index" title="Index" href="../../genindex.html"><link rel="search" title="Search" href="../../search.html">
        <link rel="canonical" href="https://black-magic.org/v1.x/knowledge/compiling-windows.html">
        <link rel="prefetch" href="../../_static/blackmagic-logo.svg" as="image"> 

<link
  rel="alternate"
  type="application/atom+xml"
  href="../../blog/atom.xml"
  title="Blog"
/>



    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>Compiling on Windows - Black Magic Debug</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../_static/asciinema-player_3.12.1.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/ablog/tagcloud.css?v=4271035a" />
    <link rel="stylesheet" type="text/css" href="../../_static/ablog/styles_for_furo.css?v=e882fc94" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Black Magic Debug</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/blackmagic-logo.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Black Magic Debug</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Intro</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware.html">Supported Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade.html">Firmware Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported-targets.html">Supported Targets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Knowledgebase</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge/faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge/pinouts.html">Pinout Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge/compiling-windows.html">Compiling on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge/bmputil-on-windows.html">Building <code class="docutils literal notranslate"><span class="pre">bmputil</span></code> on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge/links.html">Links</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage/gdb-commands.html">GDB Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/gdb-automation.html">GDB Flash Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/semihosting.html">Semihosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/swo.html">Serial Wire Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/rtt.html">Using RTT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/platformio.html">PlatformIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/stm32cubeide.html">STM32CubeIDE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Target Specific Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../target-usage/stm32.html">STM32 Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target-usage/sam3x-4x-x7x.html">SAM3x-4x-x7x</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hacking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/contrib.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/hacking.html">Firmware Hacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/target-drivers.html">Adding Target Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/target-cortex-m.html">Cortex-M Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/target-cortex-a.html">Cortex A Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/target-mm32.html">MindMotion MM32 Targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hacking/target-clock-generation.html">Target Clock Generation</a></li>
</ul>

</div><h3>Versions</h3>
<ul>
	<li><a href="/">BMD 2.0 (in development)</a></li>
	<li><a href="/v1.x">BMD 1.10.2 (stable)</a></li>
</ul>
<div class="ablog-sidebar-item ablog__recentposts">
<h3>
  <a href="../../blog.html">Recent Posts</a>
</h3>
<ul>
  
  
  <li>
    <a href="../../blog/2025-07-19-bmd-release-v2_0_0.html">
      19 July - Black Magic Debug V2.0.0 Stable Release
    </a>
  </li>
  
  <li>
    <a href="../../blog/2025-07-12-bmputil-release-v1_0_0.html">
      12 July - bmputil V1.0.0 Stable Release
    </a>
  </li>
  
  <li>
    <a href="../../blog/2025-03-03-release-candidate-v2_0_0-rc2.html">
      03 March - Black Magic Debug V2.0.0-rc2 Release Candidate
    </a>
  </li>
  
  <li>
    <a href="../../blog/2025-01-07-release-candidate-v2_0_0-rc1.html">
      07 January - Black Magic Debug V2.0.0-rc1 Release Candidate
    </a>
  </li>
  
  <li>
    <a href="../../blog/2024-01-11-release-v1_9_3.html">
      11 January - Black Magic Debug V1.9.3 Stable Release
    </a>
  </li>
  
</ul>
</div>

<div class="ablog-sidebar-item ablog__archive">
<h3>
  <a href="../../blog/archive.html">Archives</a>
</h3>
<ul>
  
  
  <li>
    <a href="../../blog/2025.html">2025 (4)</a>
  </li>
  
  
  
  <li>
    <a href="../../blog/2024.html">2024 (2)</a>
  </li>
  
  
  
  <li>
    <a href="../../blog/2023.html">2023 (8)</a>
  </li>
  
  
  
  <li>
    <a href="../../blog/2022.html">2022 (7)</a>
  </li>
  
  
</ul>
</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/blackmagic-debug/black-magic-org/blob/main/v1.x/knowledge/compiling-windows.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/blackmagic-debug/black-magic-org/edit/main/v1.x/knowledge/compiling-windows.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          
          
          

          <section id="compiling-on-windows">
<h1>Compiling on Windows<a class="headerlink" href="#compiling-on-windows" title="Link to this heading">¶</a></h1>
<p>This guide covers the following:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#building-the-firmware-on-a-windows-machine">Building the firmware on a Windows machine</a></p></li>
<li><p><a class="reference internal" href="#building-bmda-on-a-windows-machine">Building BMDA on a Windows machine</a></p></li>
</ul>
<p>Note: The BMDA guide defines the supported (but not only) way to build BMDA for Windows.</p>
<section id="building-the-firmware-on-a-windows-machine">
<h2>Building the firmware on a Windows machine<a class="headerlink" href="#building-the-firmware-on-a-windows-machine" title="Link to this heading">¶</a></h2>
<p>To build the firmware on Windows you will need the following minimum requirements:</p>
<ul class="simple">
<li><p>The <a class="reference external" href="https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads">ARM GNU Toolchain</a> compiler suite for bare metal</p></li>
<li><p>A POSIX-compliant shell such as Bash</p></li>
<li><p>Git for Windows, if building from the repository instead of a release</p></li>
</ul>
<p>The easiest way to get to a working setup is to use:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.msys2.org/">MSYS2</a> and follow the installation guide</p></li>
<li><p><a class="reference external" href="https://developer.arm.com/-/media/Files/downloads/gnu/12.2.rel1/binrel/arm-gnu-toolchain-12.2.rel1-mingw-w64-i686-arm-none-eabi.zip?rev=709f3f15b2ee4763b186c10153ee6ca9&amp;amp;hash=8C0761A17A1E4861B96DDB604C177F5B">ARM GNU Toolchain release 12.2.Rel1</a></p></li>
</ul>
<section id="setting-up-the-firmware-build-environment">
<h3>Setting up the firmware build environment<a class="headerlink" href="#setting-up-the-firmware-build-environment" title="Link to this heading">¶</a></h3>
<p>Having installed MSYS2 and with the toolchain Zip file downloaded to the Downloads directory in your user profile area,
you will need to open the MSYS2 UCRT64 prompt from the start menu.
That is the prompt item with this icon: <a class="reference internal" href="../../_images/ucrt64.png"><img alt="UCRT64 icon" src="../../_images/ucrt64.png" style="width: 32px; height: 32px;" /></a></p>
<p>Inside the MSYS2 environment run the following to update the environment and follow all prompts provided:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pacman<span class="w"> </span>-Syu
pacman<span class="w"> </span>-S<span class="w"> </span>pactoys<span class="w"> </span>git<span class="w"> </span>unzip
pacboy<span class="w"> </span>-S<span class="w"> </span>python:p<span class="w"> </span>make:p
unzip<span class="w"> </span><span class="nv">$USERPROFILE</span>/Downloads/arm-gnu-toolchain-12.2.rel1-mingw-w64-i686-arm-none-eabi.zip<span class="w"> </span>-d<span class="w"> </span>.
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/arm-gnu-toolchain-12.2.rel1-mingw-w64-i686-arm-none-eabi/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
<p>At this point you will have the tools required to build the firwmare and they will all be available from the shell.
It is important that all further steps be performed in this same shell, or if you do open a new one, that you
run the final line of this setup on each new shell you use.</p>
</section>
<section id="acquiring-the-source">
<h3>Acquiring the source<a class="headerlink" href="#acquiring-the-source" title="Link to this heading">¶</a></h3>
<p>You have a choice at this point:</p>
<ul class="simple">
<li><p>of either grabbing down a release from the project’s GitHub repositories, or</p></li>
<li><p>cloning the main repository.</p></li>
</ul>
<section id="from-release-zip-file">
<h4>From release Zip file<a class="headerlink" href="#from-release-zip-file" title="Link to this heading">¶</a></h4>
<p>If you want to use a release, visit <a class="reference external" href="https://github.com/blackmagic-debug/blackmagic/releases">the project release index</a>
and download the “Source code (zip)” entry’s file from the release’s assets, saving the file in your downloads as
<code class="docutils literal notranslate"><span class="pre">blackmagic.zip</span></code>.</p>
<p>You can then extract this file in a usable form by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>unzip<span class="w"> </span><span class="nv">$USERPROFILE</span>/Downloads/blackmagic.zip
</pre></div>
</div>
<p>This will make a directory of the source tree named following the release’s version string - for example,
for v1.10.0-rc0 the directory is named <code class="docutils literal notranslate"><span class="pre">blackmagic-1.10.0-rc0</span></code>. You will then need to change directory into this, eg:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>blackmagic-1.10.0-rc0
</pre></div>
</div>
</section>
<section id="from-repository-clone">
<h4>From repository clone<a class="headerlink" href="#from-repository-clone" title="Link to this heading">¶</a></h4>
<p>If you wish to use a source clone, run the following to get set:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/blackmagic-debug/blackmagic
<span class="nb">cd</span><span class="w"> </span>blackmagic
</pre></div>
</div>
</section>
</section>
<section id="building-for-a-probe">
<h3>Building for a probe<a class="headerlink" href="#building-for-a-probe" title="Link to this heading">¶</a></h3>
<p>Now you are in a copy of the source tree for BMD, you can build the source for your probe of choice. Use the
platform README.md for the probe as a guide for any differences to the below steps.</p>
<p>NB: If you are building the firmware for a Blue Pill and your device does not fit one the descriptions of any in the
<code class="docutils literal notranslate"><span class="pre">swlink</span></code> platform, you must use the <code class="docutils literal notranslate"><span class="pre">stlink</span></code> platform and defined <code class="docutils literal notranslate"><span class="pre">BLUEPILL=1</span></code> in the <code class="docutils literal notranslate"><span class="pre">make</span></code> step.</p>
<p>To build the firmware and update your probe, assuming you’ve already acquired <code class="docutils literal notranslate"><span class="pre">bmputil</span></code> per the
<a class="reference internal" href="../../upgrade.html"><span class="std std-doc">upgrading instrucitons</span></a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mingw32-make<span class="w"> </span><span class="nv">PROBE_HOST</span><span class="o">=</span>native
bmputil<span class="w"> </span>flash<span class="w"> </span>src/blackmagic.elf
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">make</span></code> step will automatically clone and build libopencm3, which is one of the firmware’s dependencies.
The resulting output of this step are 4 files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src/blackmagic.elf</span></code> - The firmware main binary w/ debug and address space information</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/blackmagic.bin</span></code> - The firmware’s .text and .data sections objcopy’d into a bare file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/blackmagic_dfu.elf</span></code> - The project’s bootloader w/ debug and address space information</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/blackmagic_dfu.bin</span></code> - The project bootloader’s .text and .data sections in a bare file</p></li>
</ul>
<p>When the upgrade step completes, your probe will be automatically rebooted into the new firmware and be ready to go.</p>
<p>If you wish to build the project for a different platform or do a BMDA build, you must run <code class="docutils literal notranslate"><span class="pre">mingw32-make</span> <span class="pre">clean</span></code>
between builds to remove the incompatible build outputs.</p>
</section>
</section>
<section id="building-bmda-on-a-windows-machine">
<h2>Building BMDA on a Windows machine<a class="headerlink" href="#building-bmda-on-a-windows-machine" title="Link to this heading">¶</a></h2>
<p>To build BMDA on Windows you will need a MSYS2 environment - please go to the <a class="reference external" href="https://www.msys2.org/">MSYS2</a> project
and follow the installation guide.</p>
<section id="setting-up-the-build-environment">
<h3>Setting up the build environment<a class="headerlink" href="#setting-up-the-build-environment" title="Link to this heading">¶</a></h3>
<p>Having installed MSYS2, you will need to open the MSYS2 UCRT64 prompt from the start menu.
That is the prompt item with this icon: <a class="reference internal" href="../../_images/ucrt64.png"><img alt="UCRT64 icon" src="../../_images/ucrt64.png" style="width: 32px; height: 32px;" /></a></p>
<p>Inside the MSYS2 environment run the following to update the environment and follow all prompts provided:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pacman<span class="w"> </span>-Syu
pacman<span class="w"> </span>-S<span class="w"> </span>pactoys<span class="w"> </span>git<span class="w"> </span>unzip
pacboy<span class="w"> </span>-S<span class="w"> </span>python:p<span class="w"> </span>make:p<span class="w"> </span>toolchain:p<span class="w"> </span>libusb:p<span class="w"> </span>hidapi:p<span class="w"> </span>libftdi:p
</pre></div>
</div>
<p>At this point you will have everything needed to build BMDA in the UCRT64 environment.</p>
</section>
<section id="building-bmda">
<h3>Building BMDA<a class="headerlink" href="#building-bmda" title="Link to this heading">¶</a></h3>
<p>With the environment set up, you will need to acquire the source same as in the firmware build steps above.
Once you have the source, building BMDA is as easy as running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mingw32-make<span class="w"> </span><span class="nv">PROBE_HOST</span><span class="o">=</span>hosted<span class="w"> </span><span class="nv">HOSTED_BMP_ONLY</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p>If you wish to build BMDA for only talking to BMP, the <code class="docutils literal notranslate"><span class="pre">HOSTED_BMP_ONLY=0</span></code> may be dropped or the 0 switched to a 1.</p>
<p>After the <code class="docutils literal notranslate"><span class="pre">make</span></code> step, you will have a file - <code class="docutils literal notranslate"><span class="pre">src/blackmagic.exe</span></code>, you can execute this by running <code class="docutils literal notranslate"><span class="pre">src/blackmagic</span></code>.
This is the BMDA binary. When you run <code class="docutils literal notranslate"><span class="pre">mingw32-make</span> <span class="pre">clean</span></code> in the sources, this file will be kept behind. This is done
to allow you to build BMDA, then the firmware, and then have both to use simultaneously.</p>
<p>You may not want to require users to have an MSYS2 environment to use <code class="docutils literal notranslate"><span class="pre">blackmagic.exe</span></code>.</p>
<p>In that case, all you need to do is copy the following files to a directory of
your choosing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional - strip the executable to minimize its size by removing symbols</span>
strip<span class="w"> </span>src/blackmagic.exe

cp<span class="w"> </span>src/blackmagic.exe<span class="w">          </span>/c/path/to/project
cp<span class="w"> </span>/ucrt64/bin/libusb-1.0.dll<span class="w">  </span>/c/path/to/project
cp<span class="w"> </span>/ucrt64/bin/libhidapi-0.dll<span class="w"> </span>/c/path/to/project
cp<span class="w"> </span>/ucrt64/bin/libftdi1.dll<span class="w">    </span>/c/path/to/project
</pre></div>
</div>
<p>Note: The file paths above assume you are still in the MSYS2 UCRT64 environment.</p>
<p>Now you can run <code class="docutils literal notranslate"><span class="pre">C:\path\to\project\blackmagic</span></code> from the Windows commandline or via a shortcut.</p>
</section>
</section>
</section>

           
          <div class="section ablog__blog_comments">
            
            
          </div>
          
          
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022-2023, Piotr Esden-Tempski &lt;piotr@esden.net&gt;; 2022-2023, Rachel Mant &lt;git@dragonmux.network&gt;
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Compiling on Windows</a><ul>
<li><a class="reference internal" href="#building-the-firmware-on-a-windows-machine">Building the firmware on a Windows machine</a><ul>
<li><a class="reference internal" href="#setting-up-the-firmware-build-environment">Setting up the firmware build environment</a></li>
<li><a class="reference internal" href="#acquiring-the-source">Acquiring the source</a><ul>
<li><a class="reference internal" href="#from-release-zip-file">From release Zip file</a></li>
<li><a class="reference internal" href="#from-repository-clone">From repository clone</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-for-a-probe">Building for a probe</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-bmda-on-a-windows-machine">Building BMDA on a Windows machine</a><ul>
<li><a class="reference internal" href="#setting-up-the-build-environment">Setting up the build environment</a></li>
<li><a class="reference internal" href="#building-bmda">Building BMDA</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../_static/tabs.js?v=3ee01567"></script>
    <script src="../../_static/asciinema-player_3.12.1.js"></script>
    </body>
</html>